<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>hello world</title>
    <link rel="icon" href="img/favicon.ico">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/font-awesome.css">
    <link rel="stylesheet" href="css/custom.css">
  </head>
<body>    

<div class=" container-fluid">
 <div class="row">
  <div class="col-3">
    <searchInventory>
    </searchInventory>
  </div>
  <div class="col-9">
    <inventoryDetails>
    </inventoryDetails>
  </div>
 </div>
</div>

<!-- include extern librarys -->
<script src="js/superagent.js"></script>
<script src="js/riotux.js"></script>
<!-- include components -->
<script src="components/searchInventory.tag" type="riot/tag"></script>
<script src="components/inventoryDetails.tag" type="riot/tag"></script>

<!-- include riot.js and the compiler -->
<script src="js/riot+compiler.js"></script>

<!-- <script src="js/indexed.js"></script> -->

<script type="text/javascript">
  riot.mount('*');
  let store = riotux.Store({
    state: {
      invViewList: {},
      invAllList: {}
    },
    mutations: {  
      addInventoryItem: function( state, itemObj ) {
        if(!itemObj.servername) return;
        state.invAllList[itemObj.servername] = itemObj;
      },
      activeInventoryItem: function( state, servername) {
        if(!state.invAllList[servername]) return;
        state.invViewList = state.invAllList[servername];
      },
    }
  });
  let action = riotux.Actions({
    addInvItem: (store, iObj) => {
      store.dispatch('addInventoryItem', iObj);
    },
    setActiveItem: (store, servername) => {
      store.dispatch('activeInventoryItem', servername);
    }
  });

  riotux.action('invAllList', 'addInvItem', store.state);
</script>

</body>
</html>